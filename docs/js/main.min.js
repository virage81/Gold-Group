"use strict";let topButton=document.querySelector("#top-button"),body=document.querySelector(".body"),popup=document.querySelector(".popup"),header=document.querySelector(".header"),headerBtn=document.querySelector("#header-button"),headerNav=document.querySelector(".header__nav"),headerLinks=document.querySelectorAll(".header__logo, .header__nav__link "),phone_inputs=document.querySelectorAll("#phone"),sections=document.querySelectorAll("section"),blocks=document.querySelectorAll(".about, .features, .form, .contacts");window.onload=e=>{sections[0].style.height=window.innerHeight+"px";for(var t of blocks)t.style.height=window.innerHeight-60+"px"};for(let t of headerLinks)t.onclick=function(){sections.forEach(e=>{t.getAttribute("data-href")==e.getAttribute("data-scroll")&&window.scrollTo({left:0,top:e.offsetTop-60,behavior:"smooth"})})};topButton.addEventListener("click",e=>{popup.className="popup popup--show",body.classList.add("body--blur")});let events=["click","touchstart"];events.forEach(e=>{window.addEventListener(e,function(e){e.target==popup&&(popup.className="popup",body.classList.remove("body--blur"))})});var eventCalllback=function(e){var t=e.target,a=t.dataset.phoneClear,t=t.dataset.phonePattern,t=t||"+7(___) ___-__-__",r=0,o=t.replace(/\D/g,""),s=e.target.value.replace(/\D/g,"");"false"!==a&&"blur"===e.type&&s.length<t.match(/([\_\d])/g).length?e.target.value="":(o.length>=s.length&&(s=o),e.target.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&r<s.length?s.charAt(r++):r>=s.length?"":e}))};for(let t of phone_inputs)for(let e of["input","blur","focus"])t.addEventListener(e,eventCalllback);function init(){var e=new ymaps.Placemark([56.89474833776704,53.28482424174311]);new ymaps.Map("map",{center:[56.89474833776704,53.28482424174311],zoom:15,scroll:!1}).geoObjects.add(e)}headerBtn.addEventListener("click",e=>{headerNav.classList.contains("header__nav--show")?(headerBtn.classList.remove("header__button--close"),headerNav.classList.remove("header__nav--show"),header.classList.remove("header--blur")):(headerBtn.classList.add("header__button--close"),headerNav.classList.add("header__nav--show"),header.classList.add("header--blur"))}),window.addEventListener("click",e=>{e.target==header&&(headerBtn.classList.remove("header__button--close"),headerNav.classList.remove("header__nav--show"),header.classList.remove("header--blur"))}),headerLinks.forEach(e=>{e.addEventListener("click",()=>{headerBtn.classList.remove("header__button--close"),headerNav.classList.remove("header__nav--show"),header.classList.remove("header--blur")})}),ymaps.ready(init);