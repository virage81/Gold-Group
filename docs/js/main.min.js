let topButton=document.querySelector("#form-button"),popup=document.querySelector(".popup__container"),headerBtn=document.querySelector("#header-button"),headerNav=document.querySelector(".header__nav"),headerLinks=document.querySelectorAll(".header__link, .header__logo"),phone_inputs=document.querySelectorAll("#phone");topButton.addEventListener("click",()=>{popup.classList.add("popup--show"),document.querySelector("body").style.overflow="hidden"}),window.addEventListener("click",function(e){e.target==popup&&popup.classList.remove("popup--show"),document.querySelector("body").style.overflow="visible"}),window.addEventListener("touch",function(e){e.target==popup&&popup.classList.remove("popup--show"),document.querySelector("body").style.overflow="visible"});var eventCalllback=function(e){console.log(e);var t=e.target,o=t.dataset.phoneClear,t=t.dataset.phonePattern,t=t||"+7(___) ___-__-__",a=0,r=t.replace(/\D/g,""),n=e.target.value.replace(/\D/g,"");"false"!==o&&"blur"===e.type&&n.length<t.match(/([\_\d])/g).length?e.target.value="":(r.length>=n.length&&(n=r),e.target.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&a<n.length?n.charAt(a++):a>=n.length?"":e}))};for(let t of phone_inputs)for(let e of["input","blur","focus"])t.addEventListener(e,eventCalllback);function init(){var e=new ymaps.Placemark([56.861243,53.209738]);new ymaps.Map("map",{center:[56.861243,53.209738],zoom:17,scroll:!1}).geoObjects.add(e)}headerBtn.addEventListener("click",e=>{headerNav.classList.contains("header__nav--show")?(headerBtn.classList.remove("header__button--close"),headerNav.classList.remove("header__nav--show")):(headerBtn.classList.add("header__button--close"),headerNav.classList.add("header__nav--show"))}),headerLinks.forEach(e=>{e.addEventListener("click",()=>{headerBtn.classList.remove("header__button--close"),headerNav.classList.remove("header__nav--show")})}),ymaps.ready(init);